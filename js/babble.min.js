!function(t){"use strict";var e=function(){for(var t=this.preParsedOutput||this.input,e=0;e<this.tokens.length;e++)t=t.replace(this.tokens[e].text,n(this.tokens[e].value));return t},n=function(t){return t.hasOwnProperty("toString")?t.toString():t},s=function(t,e){if(0===t.length||t[t.length-1].pos<e.pos)t.push(e);else for(var n=0;n<t.length;n++){if(t[n].pos>e.pos){t.splice(n,0,e);break}if(t[n].pos===e.pos&&t[n].len<e.len){t.splice(n,1,e);break}}},r=function(t,n,s,r){this.input=t,this.tokens=n,this.preParsedOutput=s||null,this.preParsedResults=r||null,this.digify=e.bind(this)},a=function(t,e){if(!this.hasOwnProperty("name")||"string"!=typeof this.name||!this.hasOwnProperty("parse")||"function"!=typeof this.parse||"function Object() { [native code] }"===this.constructor.toString())throw new Error('BaseTranslator must be inheritied and properties set for "name" and "parse"');if("undefined"==typeof i[this.name])throw new Error('"'+this.name+'" must be registered before it is instantiated');if(this.locale=e||i[this.name].defaultLocale,-1===i[this.name].supportedLocales.indexOf(this.locale))throw new Error('Locale "'+this.locale+'" is not supported by "'+this.name+'"');this.onTranslate=t||null,this.hasOwnProperty("assistants")||(this.assistants=[])};a.prototype={listen:function(t,e,n){if("string"==typeof t&&document&&document.getElementById&&(t=document.getElementById(t)),e=e||"input",n=n||this.onTranslate,t.addEventListener)t.addEventListener(e,this.translate.bind(this,t,n));else if(t.attachEvent)t.attachEvent("on"+e,this.translate.bind(this,t,n));else if("undefined"!=typeof t["on"+e])t["on"+e]=this.translate.bind(this,t,n);else{if("undefined"==typeof t[e])throw new Error("Could not find an appropriate event to bind to");t[e]=this.translate.bind(this,t,n)}},translate:function(){var t=arguments.length,e=this.locale;-1!==i[this.name].supportedLocales.indexOf(arguments[arguments.length-1])&&(t=arguments.length-1,e=arguments[t]);var n="",s=t-1;if("string"==typeof arguments[s]?n=arguments[s]:arguments[s]&&arguments[s].target&&arguments[s].target.value&&(n=arguments[s].target.value),n){var r=this.parse(n,e);return arguments.length>2&&"function"==typeof arguments[1]?arguments[1](r,arguments[0]):this.onTranslate&&arguments.length>1&&"string"!=typeof arguments[0]&&this.onTranslate(r,arguments[0]),r}},passToAssistants:function(t,e){for(var n=t,s={},r=0;r<this.assistants.length;r++)s[this.assistants[r]]=u(this.assistants[r]).parse(n,e),n=s[this.assistants[r]].digify();return{preParsedOutput:n,preParsedResults:s}}},t.ParsedResult=r,t.BaseTranslator=a;var i={},o=function(t,e,n,s){i[t]={instance:null,defaultLocale:n,supportedLocales:s},i[t].instance=new e};t.register=o;var u=function(t,e){if(e=e||i[t].instance.locale,-1===i[t].supportedLocales.indexOf(e))throw new Error('Locale "'+this.locale+'" is not supported by "'+t+'"');return i[t].locale=e||i[t].instance.locale,i[t].instance};t.get=u;var l=function(t,e){var n=null,s=null,r=null;if(arguments.length<3||"function"!=typeof arguments[arguments.length-1])throw new TypeError("Unexpected number of arguments");r=arguments[arguments.length-1],arguments.length>3&&(n=arguments[2]),arguments.length>4&&(s=arguments[3]);var a=u(t,s);a.listen(e,n,r)};t.assign=l,t.insertMatch=s,t.theSpaceBetween=function(t,e,n,s){return t.slice(e+n,s)}}("undefined"==typeof exports?this.babble=this.babble||{}:exports);
!function(s){"use strict";var e={"en-US":{year:{full:["years","year"],"short":["yr"],symbol:["y"]},day:{full:["days","day"],"short":["dys","dy"],symbol:["d"]},hour:{full:["hours","hour"],"short":["hrs","hr"],symbol:["h"]},minute:{full:["minutes","minute"],"short":["mins","min"],symbol:["m"]},second:{full:["seconds","second"],"short":["secs","sec"],symbol:["s"]},millisecond:{full:["milliseconds","millisecond"],"short":["millisecs","millisec","msecs","msec"],symbol:["ms"]},timeJoiners:[",",", and",",and","and",""],modifierJoiners:["of an","of a","an","a",""],modifiers:{quarter:.25,half:.5},formatNoun:function(s,e){var t=function(s){var e=["a","e","i","o","u"];return"y"===s[s.length-1]&&-1===e.indexOf(s[s.length-2].toLowerCase())?s.substring(0,s.length-1)+"ies":s+"s"};return 0===e?"no "+t(s):1===e?s:t(s)}}},t=1e3,n=60*t,o=60*n,i=24*o,r=365*i;s.Duration=function(s){this.value=s,this.milliseconds=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.years=0;var e=s;e>=r&&(this.years=Math.floor(e/r),e-=this.years*r),e>=i&&(this.days=Math.floor(e/i),e-=this.days*i),e>=o&&(this.hours=Math.floor(e/o),e-=this.hours*o),e>=n&&(this.minutes=Math.floor(e/n),e-=this.minutes*n),e>=t&&(this.seconds=Math.floor(e/t),e-=this.seconds*t),this.milliseconds=e},s.Duration.prototype.hoomanize=function(s,t){t=t&&e[t]?e[t]:e[h],"undefined"!=typeof s&&null!==s&&this.hasOwnProperty(s)||(s="milliseconds");var n=[];return this.years&&n.push(this.years+" "+t.formatNoun(t.year.full[1],this.years)),"days"===s?n.join(", "):(this.days&&n.push(this.days+" "+t.formatNoun(t.day.full[1],this.days)),"days"===s?n.join(", "):(this.hours&&n.push(this.hours+" "+t.formatNoun(t.hour.full[1],this.hours)),"hours"===s?n.join(", "):(this.minutes&&n.push(this.minutes+" "+t.formatNoun(t.minute.full[1],this.minutes)),"minutes"===s?n.join(", "):(this.seconds&&n.push(this.seconds+" "+t.formatNoun(t.second.full[1],this.seconds)),"seconds"===s?n.join(", "):(this.milliseconds&&n.push(this.milliseconds+" "+t.formatNoun(t.millisecond.full[1],this.milliseconds)),n.join(", "))))))},s.Duration.prototype.toMinutes=function(){return this.value>6e4?Math.floor(this.value/1e3/60):0},s.Duration.prototype.toString=function(){return this.value};var l=function(l,a){a=a&&e[a]?e[a]:e[h];for(var d,f=[].concat(a.year.full).concat(a.day.full).concat(a.hour.full).concat(a.minute.full).concat(a.second.full).concat(a.millisecond.full).concat(a.year["short"]).concat(a.day["short"]).concat(a.hour["short"]).concat(a.minute["short"]).concat(a.second["short"]).concat(a.millisecond["short"]).concat(a.year.symbol).concat(a.day.symbol).concat(a.hour.symbol).concat(a.minute.symbol).concat(a.second.symbol).concat(a.millisecond.symbol),c=function(s){var e=function(s){return a.year.full.indexOf(s)>-1?!0:a.year["short"].indexOf(s)>-1?!0:a.year.symbol.indexOf(s)>-1?!0:!1},l=function(s){return a.day.full.indexOf(s)>-1?!0:a.day["short"].indexOf(s)>-1?!0:a.day.symbol.indexOf(s)>-1?!0:!1},u=function(s){return a.hour.full.indexOf(s)>-1?!0:a.hour["short"].indexOf(s)>-1?!0:a.hour.symbol.indexOf(s)>-1?!0:!1},h=function(s){return a.minute.full.indexOf(s)>-1?!0:a.minute["short"].indexOf(s)>-1?!0:a.minute.symbol.indexOf(s)>-1?!0:!1},d=function(s){return a.second.full.indexOf(s)>-1?!0:a.second["short"].indexOf(s)>-1?!0:a.second.symbol.indexOf(s)>-1?!0:!1},f=function(s){return a.millisecond.full.indexOf(s)>-1?!0:a.millisecond["short"].indexOf(s)>-1?!0:a.millisecond.symbol.indexOf(s)>-1?!0:!1};if(e(s))return r;if(l(s))return i;if(u(s))return o;if(h(s))return n;if(d(s))return t;if(f(s))return 1;throw new Error("Invalid duration name")},m=this.passToAssistants(l,a),p=m.preParsedOutput,y=m.preParsedResults,x=[],v=new RegExp("(\\b|\\d)("+f.join("|")+")(?![a-zA-Z])","gi");null!==(d=v.exec(l));){var b=d.index+(d[1]||"").length;u.insertMatch(x,{kind:"duration.name",pos:b,text:d[2],value:c(d[2])})}for(v=/((\d)+:(\d)+(:(\d)+)?(:(\d)+)?(\.(\d){1,3})?)/gi;null!==(d=v.exec(l));)""!==arguments[0].trim()&&u.insertMatch(x,{kind:"duration.full",pos:d.index,text:d[0],value:null});var g=function(s,e,t){var n=0,o=e.pos;"undefined"!=typeof t&&null!==t&&(n=t.pos+t.text.length);for(var i=0,r=null,i=0;i<s.length;i++)if(n<=s[i].pos&&s[i].pos<o)r=s[i];else if(s[i].pos>=o)break;return r};if(0===x.length)return new u.ParsedResult(l,[],p,y);for(var O=[],w=[],j=null,M=0;M<x.length;M++)if("duration.full"!==x[M].kind){var k=g(y.numbers.tokens,x[M],j);if(null!==k){var I=l.slice(k.pos+k.text.length,x[M].pos);a.modifierJoiners.indexOf(I.trim())>-1&&w.push({kind:"segment",pos:k.pos,text:l.slice(k.pos,x[M].pos+x[M].text.length),value:k.value*x[M].value}),j=x[M]}else w.push({kind:"segment",pos:x[M].pos,text:x[M].text,value:x[M].value})}else{var N=x[M].text.split(":"),D=0;4===N.length?(D+=parseFloat(N[0])*i,D+=parseInt(N[1])*o,D+=parseInt(N[2])*n,D+=parseFloat(N[3])*t):3===N.length?(D+=parseInt(N[0])*o,D+=parseInt(N[1])*n,D+=parseFloat(N[2])*t):2===N.length&&(D+=parseInt(N[0]*o),D+=parseInt(N[1]*n)),w.push({kind:"duration",pos:x[M].pos,text:x[M].text,value:D})}for(var P=null,q=null,M=0;M<w.length;M++){if(q=w[M],P){var J=l.slice(P.pos+P.text.length,q.pos);a.timeJoiners.indexOf(J.trim())>-1?(q.value+=P.value,q.text=p.slice(P.pos,q.pos+q.text.length),q.pos=P.pos):O.push(P)}P=w[M]}O.push(q);for(var M=0;M<O.length;M++)O[M].value=new s.Duration(O[M].value);return new u.ParsedResult(l,O,p,y)};if("undefined"!=typeof require){var u=require("./core.js");require("./numbers.js")}else{var u=window.babble;window.babble}var a=function(s,e){this.name="durations",this.parse=l,this.assistants=["numbers"],u.BaseTranslator.call(this,s,e)};a.prototype=Object.create(u.BaseTranslator.prototype),a.prototype.constructor=a,s.DurationTranslator=a;var h="en-US",d=[];for(var f in e)d.push(f);u.register("durations",a,h,d)}("undefined"==typeof exports?this.babble=this.babble||{}:exports);
!function(e){"use strict";if(e.parse=function(){},"undefined"!=typeof require)var t=require("./core.js");else var t=window.babble;var r=function(e,r){this.name="moments",this.parse=parse,t.BaseTranslator.call(this,e,r)};r.prototype=Object.create(t.BaseTranslator.prototype),r.prototype.constructor=r,e.MomentTranslator=r}("undefined"==typeof exports?this.babble=this.babble||{}:exports);
!function(e){"use strict";var n={"en-US":{numbers:{half:.5,quarter:.25,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,score:20,thirty:30,forty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100,thousand:1e3,million:1e6,billion:1e9,tenth:.1,hundredth:.01,thousandth:.001},joiners:[""," "," and ","-"],flippers:[]}};n["de-DE"]={numbers:{"null":0,ein:1,eine:1,eins:1,zwei:2,zwo:2,drei:3,vier:4,"fünf":5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,"zwölf":12,dreizehn:13,vierzehn:14,"fünfzehn":15,sechzehn:16,siebzehn:17,achtzehn:18,neunzehn:19,zwanzig:20,"dreißig":30,vierzig:40,"fünfzig":50,sechzig:60,siebzig:70,achtzig:80,neunzig:90,hundert:100,tausend:1e3,million:1e6,milliarde:1e9},joiners:[""," ","und"," und ","-"],flippers:["und"," und "]};var s=function(e,s){s=s&&n[s]?n[s]:n[i];var r=[];for(var l in s.numbers)r.push(l);r.reverse();for(var u,o=[],a=new RegExp("("+r.join("|")+")","gi");null!==(u=a.exec(e));)t.insertMatch(o,{pos:u.index,len:u[0].length,value:s.numbers[u[0].toLowerCase()]||parseFloat(u[0])});for(a=/([+-]{0,1}\d+)/gi;null!==(u=a.exec(e));)t.insertMatch(o,{pos:u.index,len:u[0].length,value:parseFloat(u[0])});if(0===o.length)return new t.ParsedResult(e,[]);for(var h=function(e){return 1>e?"":String(e).length},f=[{kind:"number",pos:0,value:0,text:"",segments:[0]}],p=0,g=0,v=null,d=0;d<o.length;d++){if(v){var c=e.slice(v.pos+v.len,o[d].pos);-1===s.joiners.indexOf(c)&&(f[p].value=f[p].segments.reduce(function(e,n){return(e||0)+n}),f[p].text=e.slice(f[p].pos,v.pos+v.len),f.push({kind:"number",pos:0,value:0,text:"",segments:[0]}),p++,g=0,v=null,f[p].pos=o[d].pos)}else f[p].pos=o[d].pos;if(v&&(h(f[p].segments[g])<h(o[d].value)||o[d].value<1))if(g>0&&f[p].segments[g-1]<o[d].value){for(var m=0,b=0,z=f[p].segments.length-1;z>-1;z--){if(m+f[p].segments[z]>o[d].value){b=z+1;break}m+=f[p].segments[z]}f[p].segments.splice(b,f[p].segments.length),g=b,f[p].segments.push(m*o[d].value)}else s.flippers.indexOf(e.slice(v.pos+v.len,o[d].pos))>-1?f[p].segments[g]+=o[d].value:f[p].segments[g]=f[p].segments[g]*o[d].value;else v&&f[p].segments[g]>o[d].value?(f[p].segments.push(o[d].value),g++):f[p].segments[g]+=o[d].value;v=o[d]}return f[p].value=f[p].segments.reduce(function(e,n){return(e||0)+n}),f[p].text=e.slice(f[p].pos,v.pos+v.len),new t.ParsedResult(e,f)};if("undefined"!=typeof require)var t=require("./core.js");else var t=window.babble;var r=function(e,n){this.name="numbers",this.parse=s,t.BaseTranslator.call(this,e,n)};r.prototype=Object.create(t.BaseTranslator.prototype),r.prototype.constructor=r,e.NumberTranslator=r;var i="en-US",l=[];for(var u in n)l.push(u);t.register("numbers",r,i,l)}("undefined"==typeof exports?this.babble=this.babble||{}:exports);