!function(s){"use strict";var e={"en-US":{year:{full:"year","short":"yr",symbol:"y"},day:{full:"day","short":"dy",symbol:"d"},hour:{full:"hour","short":"hr",symbol:"h"},minute:{full:"minute","short":"min",symbol:"m"},second:{full:"second","short":"sec",symbol:"s"},millisecond:{full:"millisecond","short":"msec",symbol:"ms"},timeJoiners:[",","and",""],modifierJoiners:["of an","an","a",""],modifiers:{quarter:.25,half:.5},formatNoun:function(s,e){var t=function(s){var e=["a","e","i","o","u"];return"y"===s[s.length-1]&&-1===e.indexOf(s[s.length-2].toLowerCase())?s.substring(0,s.length-1)+"ies":s+"s"};return 0===e?"no "+t(s):1===e?s:t(s)}}},t=1e3,n=60*t,a=60*n,r=24*a,i=365*r;s.Duration=function(s){this.value=s,this.milliseconds=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.years=0;var e=s;e>=i&&(this.years=Math.floor(e/i),e-=this.years*i),e>=r&&(this.days=Math.floor(e/r),e-=this.days*r),e>=a&&(this.hours=Math.floor(e/a),e-=this.hours*a),e>=n&&(this.minutes=Math.floor(e/n),e-=this.minutes*n),e>=t&&(this.seconds=Math.floor(e/t),e-=this.seconds*t),this.milliseconds=e},s.Duration.prototype.hoomanize=function(s,t){t=t&&e[t]?e[t]:e[h],"undefined"!=typeof s&&null!==s&&this.hasOwnProperty(s)||(s="milliseconds");var n=[];return this.days&&n.push(this.days+" "+t.formatNoun(t.day.full,this.days)),"days"===s?n.join(", "):(this.hours&&n.push(this.hours+" "+t.formatNoun(t.hour.full,this.hours)),"hours"===s?n.join(", "):(this.minutes&&n.push(this.minutes+" "+t.formatNoun(t.minute.full,this.minutes)),"minutes"===s?n.join(", "):(this.seconds&&n.push(this.seconds+" "+t.formatNoun(t.second.full,this.seconds)),"seconds"===s?n.join(", "):(this.milliseconds&&n.push(this.milliseconds+" "+t.formatNoun(t.millisecond.full,this.milliseconds)),n.join(", ")))))},s.Duration.prototype.toMinutes=function(){return this.value>6e4?Math.floor(this.value/1e3/60):0},s.Duration.prototype.toString=function(){return this.value};var o=function(i,o){o=o&&e[o]?e[o]:e[h];for(var u=this.passToAssistants(i,o),f=u.preParsedOutput,c=u.preParsedResults,d=[/(((\d)+|half of an |half of a |half an |half a |half|quarter|an |a ) *?(days|day|dys|dy|d){1})?/gi,/(((\d)+|half of an |half of a |half an |half a |half|quarter|an |a ) *?(hours|hour|hrs|hr|h){1})?/gi,/(((\d)+|half of an |half of a |half an |half a |half|quarter|an |a ) *?(minutes|minute|mins|min|m){1})?/gi,/(((\d)+|half of an |half of a |half an |half a |half|quarter|an |a ) *?(seconds|second|secs|sec|s){1})?/gi,/((\d)+ *?(milliseconds|millisecond|millisecs|millisec|msecs|msec|ms){1})?/gi],m=function(s,e){if(0===s.length||s[s.length-1].pos<e.pos)s.push(e);else for(var t=0;t<s.length;t++){if(s[t].pos>e.pos){s.splice(t,0,e);break}if(s[t].pos===e.pos&&s[t].len<e.len){s.splice(t,1,e);break}}},p=[],g=0;g<d.length;g++)f.replace(d[g],function(){""!==arguments[0].trim()&&m(p,{pos:arguments[arguments.length-2],len:arguments[0].length,value:arguments[0]})});if(f.replace(/((\d)+:(\d)+(:(\d)+)?(:(\d)+)?(\.(\d){1,3}))?/gi,function(){""!==arguments[0].trim()&&m(p,{pos:arguments[arguments.length-2],len:arguments[0].length,value:arguments[0]})}),0===p.length)return new l.ParsedResult(i,[],f,c);for(var y=[],g=0;g<p.length;g++){var v=f.slice(p[g].pos,p[g].pos+p[g].len);if(y.push({kind:"duration",pos:p[g].pos,value:0,text:v}),v.indexOf(":")>0){var b=v.split(":");if(2===b.length)y[g].value=a*parseInt(b[0])+n*parseInt(b[1]);else if(3===b.length){var q=b[2].split("."),w=q[0];q=q.length>1?1===String(q[1]).length?".00"+q[1]:2===String(q[1]).length?".0"+q[1]:"."+q[1]:"",y[g].value=a*parseInt(b[0])+n*parseInt(b[1])+t*parseFloat(w+q)}else if(4===b.length){var q=b[3].split("."),w=q[0];q=q.length>1?1===String(q[1]).length?".00"+q[1]:2===String(q[1]).length?".0"+q[1]:"."+q[1]:"",y[g].value=r*parseInt(b[0])+a*parseInt(b[1])+n*parseInt(b[2])+t*parseFloat(w+q)}}else{var x=/ *?(days|day|dys|dy|d)$/gi,j=/ *?(hours|hour|hrs|hr|h)$/gi,I=/ *?(minutes|minute|mins|min|m)$/gi,N=/ *?(seconds|second|secs|sec|s)$/gi,S=/ *?(milliseconds|millisecond|millisecs|millisec|msecs|msec|ms)$/gi,M=/(half an|half a|half of an|half of a|half of|half)/gi,D=/(quarter of an|quarter of a|quarter of|quarter)/gi,O=/(an|a)/gi,P=0;v=v.replace(S,""),v=v.replace(N,function(){return P=t,""}),v=v.replace(x,function(){return P=r,""}),v=v.replace(j,function(){return P=a,""}),v=v.replace(I,function(){return P=n,""}),v=v.replace(M,function(){return P*=.5,""}),v=v.replace(D,function(){return P*=.25,""}),v=v.replace(O,"");var $=parseInt(v);"NaN"===$.toString()&&($=1),0===P&&(P=1),y[g].value=$*P}}for(var T=[],k=null,J=null,g=0;g<y.length;g++){if(J=y[g],k){var R=f.slice(k.pos+k.text.length,J.pos);o.timeJoiners.indexOf(R.trim())>-1?(J.value+=k.value,J.text=f.slice(k.pos,J.pos+J.text.length),J.pos=k.pos):T.push(k)}k=y[g]}T.push(J);for(var g=0;g<T.length;g++)T[g].value=new s.Duration(T[g].value);return new l.ParsedResult(i,T,f,c)};if("undefined"!=typeof require){var l=require("./core.js");require("./numbers.js")}else{var l=window.babelchip;window.babelchip}var u=function(s,e){this.name="durations",this.parse=o,this.assistants=["numbers"],l.BaseTranslator.call(this,s,e)};u.prototype=Object.create(l.BaseTranslator.prototype),u.prototype.constructor=u,s.DurationTranslator=u;var h="en-US",f=[];for(var c in e)f.push(c);l.register("durations",u,h,f)}("undefined"==typeof exports?this.babelchip=this.babelchip||{}:exports);