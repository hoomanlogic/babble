!function(e){"use strict";var s={"en-US":{code:"en-US",millennium:{full:["millennium","millennia"]},century:{full:["centuries","century"]},decade:{full:["decades","decade"]},year:{full:["years","year"],"short":["yr"],symbol:["y"]},day:{full:["days","day"],"short":["dys","dy"],symbol:["d"]},hour:{full:["hours","hour"],"short":["hrs","hr"],symbol:["h"]},minute:{full:["minutes","minute"],"short":["mins","min"],symbol:["m"]},second:{full:["seconds","second"],"short":["secs","sec"],symbol:["s"]},millisecond:{full:["milliseconds","millisecond"],"short":["millisecs","millisec","msecs","msec"],symbol:["ms"]},timeJoiners:[",",", and",",and","and",""],modifierJoiners:["of an","of a","an","a",""],formatNoun:function(e,s){var n=function(e){var s=["a","e","i","o","u"];return"y"===e[e.length-1]&&-1===s.indexOf(e[e.length-2].toLowerCase())?e.substring(0,e.length-1)+"ies":e+"s"};return 0===s?"no "+n(e):1===s?e:n(e)}}};s["de-DE"]={code:"de-DE",millennium:{full:[]},century:{full:[]},decade:{full:[]},year:{full:["jahre","jahr"],"short":[],symbol:["j"]},day:{full:["tage","tag"],"short":[],symbol:["t"]},hour:{full:["stunde"],"short":[],symbol:["st"]},minute:{full:["minuten"],"short":["min"],symbol:["m"]},second:{full:["sekunden"],"short":["sek"],symbol:["s"]},millisecond:{full:["millisekunden"],"short":["millisek","msek"],symbol:["ms"]},timeJoiners:[",",", und",",und","und",""],modifierJoiners:["ob",""],formatNoun:function(e,s){var n=function(e){return e+"e"};return 0===s?"kein "+n(e):1===s?e:n(e)}};var n=1e3,t=60*n,i=60*t,o=24*i,r=365*o,l=10*r,u=10*l,a=10*u;e.Duration=function(e){this.value=e,this.milliseconds=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.years=0;var s=e;s>=r&&(this.years=Math.floor(s/r),s-=this.years*r),s>=o&&(this.days=Math.floor(s/o),s-=this.days*o),s>=i&&(this.hours=Math.floor(s/i),s-=this.hours*i),s>=t&&(this.minutes=Math.floor(s/t),s-=this.minutes*t),s>=n&&(this.seconds=Math.floor(s/n),s-=this.seconds*n),this.milliseconds=s},e.Duration.prototype.toString=function(e,n){if(n=n&&s[n]?s[n]:s[j],"undefined"!=typeof e&&null!==e&&":"===e.slice(0,1))return this.days>0?this.days+":"+(this.hours<10?"0":"")+this.hours+":"+(this.minutes<10?"0":"")+this.minutes:this.hours>0?":minutes"===e?this.hours+":"+(this.minutes<10?"0":"")+this.minutes:this.hours+":"+(this.minutes<10?"0":"")+this.minutes+":"+(this.seconds<10?"0":"")+this.seconds:":minutes"===e?this.minutes:this.minutes+":"+(this.seconds<10?"0":"")+this.seconds;"undefined"!=typeof e&&null!==e&&this.hasOwnProperty(unitOfSpecificity)||(e="milliseconds");var t=[];return this.years&&t.push(this.years+" "+n.formatNoun(n.year.full[1],this.years)),"days"===unitOfSpecificity?t.join(", "):(this.days&&t.push(this.days+" "+n.formatNoun(n.day.full[1],this.days)),"days"===unitOfSpecificity?t.join(", "):(this.hours&&t.push(this.hours+" "+n.formatNoun(n.hour.full[1],this.hours)),"hours"===unitOfSpecificity?t.join(", "):(this.minutes&&t.push(this.minutes+" "+n.formatNoun(n.minute.full[1],this.minutes)),"minutes"===unitOfSpecificity?t.join(", "):(this.seconds&&t.push(this.seconds+" "+n.formatNoun(n.second.full[1],this.seconds)),"seconds"===unitOfSpecificity?t.join(", "):(this.milliseconds&&t.push(this.milliseconds+" "+n.formatNoun(n.millisecond.full[1],this.milliseconds)),t.join(", "))))))},e.Duration.prototype.toMinutes=function(){return this.value>6e4?Math.floor(this.value/1e3/60):0};var h=function(e,s){return s.millennium.full.indexOf(e)>-1?!0:!1},d=function(e,s){return s.century.full.indexOf(e)>-1?!0:!1},f=function(e,s){return s.decade.full.indexOf(e)>-1?!0:!1},c=function(e,s){return s.year.full.indexOf(e)>-1?!0:s.year["short"].indexOf(e)>-1?!0:s.year.symbol.indexOf(e)>-1?!0:!1},m=function(e,s){return s.day.full.indexOf(e)>-1?!0:s.day["short"].indexOf(e)>-1?!0:s.day.symbol.indexOf(e)>-1?!0:!1},y=function(e,s){return s.hour.full.indexOf(e)>-1?!0:s.hour["short"].indexOf(e)>-1?!0:s.hour.symbol.indexOf(e)>-1?!0:!1},p=function(e,s){return s.minute.full.indexOf(e)>-1?!0:s.minute["short"].indexOf(e)>-1?!0:s.minute.symbol.indexOf(e)>-1?!0:!1},x=function(e,s){return s.second.full.indexOf(e)>-1?!0:s.second["short"].indexOf(e)>-1?!0:s.second.symbol.indexOf(e)>-1?!0:!1},b=function(e,s){return s.millisecond.full.indexOf(e)>-1?!0:s.millisecond["short"].indexOf(e)>-1?!0:s.millisecond.symbol.indexOf(e)>-1?!0:!1},v=function(e,s){if(h(e,s))return a;if(d(e,s))return u;if(f(e,s))return l;if(c(e,s))return r;if(m(e,s))return o;if(y(e,s))return i;if(p(e,s))return t;if(x(e,s))return n;if(b(e,s))return 1;throw new Error("Invalid duration name")},O=function(r,l){l=l&&s[l]?s[l]:s[j];for(var u,a=[].concat(l.millennium.full).concat(l.century.full).concat(l.decade.full).concat(l.year.full).concat(l.day.full).concat(l.hour.full).concat(l.minute.full).concat(l.second.full).concat(l.millisecond.full).concat(l.year["short"]).concat(l.day["short"]).concat(l.hour["short"]).concat(l.minute["short"]).concat(l.second["short"]).concat(l.millisecond["short"]).concat(l.year.symbol).concat(l.day.symbol).concat(l.hour.symbol).concat(l.minute.symbol).concat(l.second.symbol).concat(l.millisecond.symbol),h=this.passToAssistants(r,l.code),d=[],f=new RegExp("(\\b|\\d)("+a.join("|")+").?(?![a-zA-Z])","gi");null!==(u=f.exec(r));){var c=u.index+(u[1]||"").length;g.insertToken(d,{kind:"duration.name",pos:c,text:u[2],value:v(u[2],l)})}for(f=/((\d)+:(\d)+(:(\d)+)?(:(\d)+)?(\.(\d){1,3})?)/gi;null!==(u=f.exec(r));)""!==arguments[0].trim()&&g.insertToken(d,{kind:"duration.full",pos:u.index,text:u[0],value:null});if(0===d.length)return new g.ParsedResult(r,[],h);for(var m=[],y=[],p=null,x=0;x<d.length;x++)if("duration.full"!==d[x].kind){var b=g.getTokenModifier(h.numbers.tokens,d[x],p);if(null!==b){var O=r.slice(b.pos+b.text.length,d[x].pos);l.modifierJoiners.indexOf(O.trim())>-1&&y.push({kind:"segment",pos:b.pos,text:r.slice(b.pos,d[x].pos+d[x].text.length),value:b.value*d[x].value}),p=d[x]}else y.push({kind:"segment",pos:d[x].pos,text:d[x].text,value:d[x].value})}else{var k=d[x].text.split(":"),w=0;4===k.length?(w+=parseFloat(k[0])*o,w+=parseInt(k[1])*i,w+=parseInt(k[2])*t,w+=parseFloat(k[3])*n):3===k.length?(w+=parseInt(k[0])*i,w+=parseInt(k[1])*t,w+=parseFloat(k[2])*n):2===k.length&&(w+=parseInt(k[0]*i),w+=parseInt(k[1]*t)),y.push({kind:"duration",pos:d[x].pos,text:d[x].text,value:w})}for(var S=null,M=null,x=0;x<y.length;x++){if(M=y[x],S){var N=r.slice(S.pos+S.text.length,M.pos);l.timeJoiners.indexOf(N.trim())>-1?(M.value+=S.value,M.text=r.slice(S.pos,M.pos+M.text.length),M.pos=S.pos):m.push(S)}S=y[x]}m.push(M);for(var x=0;x<m.length;x++)m[x].value=new e.Duration(m[x].value);return new g.ParsedResult(r,m,h)};if("undefined"!=typeof require){var g=require("./core.js");require("./numbers.js")}else{var g=window.babble;window.babble}var k=function(e,s){this.name="durations",this.parse=O,this.assistants=["numbers"],g.BaseTranslator.call(this,e,s)};k.prototype=Object.create(g.BaseTranslator.prototype),k.prototype.constructor=k,e.DurationTranslator=k;var j="en-US",w=[];for(var S in s)w.push(S);g.register("durations",k,j,w)}("undefined"==typeof exports?this.babble=this.babble||{}:exports);