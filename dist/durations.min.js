!function(e){"use strict";var n={"en-US":{millennium:{full:["millennium","millennia"]},century:{full:["centuries","century"]},decade:{full:["decades","decade"]},year:{full:["years","year"],"short":["yr"],symbol:["y"]},day:{full:["days","day"],"short":["dys","dy"],symbol:["d"]},hour:{full:["hours","hour"],"short":["hrs","hr"],symbol:["h"]},minute:{full:["minutes","minute"],"short":["mins","min"],symbol:["m"]},second:{full:["seconds","second"],"short":["secs","sec"],symbol:["s"]},millisecond:{full:["milliseconds","millisecond"],"short":["millisecs","millisec","msecs","msec"],symbol:["ms"]},timeJoiners:[",",", and",",and","and",""],modifierJoiners:["of an","of a","an","a",""],formatNoun:function(e,n){var t=function(e){var n=["a","e","i","o","u"];return"y"===e[e.length-1]&&-1===n.indexOf(e[e.length-2].toLowerCase())?e.substring(0,e.length-1)+"ies":e+"s"};return 0===n?"no "+t(e):1===n?e:t(e)}}},t=1e3,s=60*t,o=60*s,i=24*o,r=365*i,l=10*r,u=10*l,a=10*u;e.Duration=function(e){this.value=e,this.milliseconds=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.years=0;var n=e;n>=r&&(this.years=Math.floor(n/r),n-=this.years*r),n>=i&&(this.days=Math.floor(n/i),n-=this.days*i),n>=o&&(this.hours=Math.floor(n/o),n-=this.hours*o),n>=s&&(this.minutes=Math.floor(n/s),n-=this.minutes*s),n>=t&&(this.seconds=Math.floor(n/t),n-=this.seconds*t),this.milliseconds=n},e.Duration.prototype.hoomanize=function(e,t){t=t&&n[t]?n[t]:n[h],"undefined"!=typeof e&&null!==e&&this.hasOwnProperty(e)||(e="milliseconds");var s=[];return this.years&&s.push(this.years+" "+t.formatNoun(t.year.full[1],this.years)),"days"===e?s.join(", "):(this.days&&s.push(this.days+" "+t.formatNoun(t.day.full[1],this.days)),"days"===e?s.join(", "):(this.hours&&s.push(this.hours+" "+t.formatNoun(t.hour.full[1],this.hours)),"hours"===e?s.join(", "):(this.minutes&&s.push(this.minutes+" "+t.formatNoun(t.minute.full[1],this.minutes)),"minutes"===e?s.join(", "):(this.seconds&&s.push(this.seconds+" "+t.formatNoun(t.second.full[1],this.seconds)),"seconds"===e?s.join(", "):(this.milliseconds&&s.push(this.milliseconds+" "+t.formatNoun(t.millisecond.full[1],this.milliseconds)),s.join(", "))))))},e.Duration.prototype.toMinutes=function(){return this.value>6e4?Math.floor(this.value/1e3/60):0},e.Duration.prototype.toString=function(){return this.value};var d=function(d,c){c=c&&n[c]?n[c]:n[h];for(var m,y=[].concat(c.millennium.full).concat(c.century.full).concat(c.decade.full).concat(c.year.full).concat(c.day.full).concat(c.hour.full).concat(c.minute.full).concat(c.second.full).concat(c.millisecond.full).concat(c.year["short"]).concat(c.day["short"]).concat(c.hour["short"]).concat(c.minute["short"]).concat(c.second["short"]).concat(c.millisecond["short"]).concat(c.year.symbol).concat(c.day.symbol).concat(c.hour.symbol).concat(c.minute.symbol).concat(c.second.symbol).concat(c.millisecond.symbol),p=function(e){var n=function(e){return c.millennium.full.indexOf(e)>-1?!0:!1},d=function(e){return c.century.full.indexOf(e)>-1?!0:!1},f=function(e){return c.decade.full.indexOf(e)>-1?!0:!1},h=function(e){return c.year.full.indexOf(e)>-1?!0:c.year["short"].indexOf(e)>-1?!0:c.year.symbol.indexOf(e)>-1?!0:!1},m=function(e){return c.day.full.indexOf(e)>-1?!0:c.day["short"].indexOf(e)>-1?!0:c.day.symbol.indexOf(e)>-1?!0:!1},y=function(e){return c.hour.full.indexOf(e)>-1?!0:c.hour["short"].indexOf(e)>-1?!0:c.hour.symbol.indexOf(e)>-1?!0:!1},p=function(e){return c.minute.full.indexOf(e)>-1?!0:c.minute["short"].indexOf(e)>-1?!0:c.minute.symbol.indexOf(e)>-1?!0:!1},x=function(e){return c.second.full.indexOf(e)>-1?!0:c.second["short"].indexOf(e)>-1?!0:c.second.symbol.indexOf(e)>-1?!0:!1},v=function(e){return c.millisecond.full.indexOf(e)>-1?!0:c.millisecond["short"].indexOf(e)>-1?!0:c.millisecond.symbol.indexOf(e)>-1?!0:!1};if(n(e))return a;if(d(e))return u;if(f(e))return l;if(h(e))return r;if(m(e))return i;if(y(e))return o;if(p(e))return s;if(x(e))return t;if(v(e))return 1;throw new Error("Invalid duration name")},x=this.passToAssistants(d,c),v=x.preParsedOutput,b=x.preParsedResults,O=[],g=new RegExp("(\\b|\\d)("+y.join("|")+")(?![a-zA-Z])","gi");null!==(m=g.exec(d));){var w=m.index+(m[1]||"").length;f.insertMatch(O,{kind:"duration.name",pos:w,text:m[2],value:p(m[2])})}for(g=/((\d)+:(\d)+(:(\d)+)?(:(\d)+)?(\.(\d){1,3})?)/gi;null!==(m=g.exec(d));)""!==arguments[0].trim()&&f.insertMatch(O,{kind:"duration.full",pos:m.index,text:m[0],value:null});var j=function(e,n,t){var s=0,o=n.pos;"undefined"!=typeof t&&null!==t&&(s=t.pos+t.text.length);for(var i=0,r=null,i=0;i<e.length;i++)if(s<=e[i].pos&&e[i].pos<o)r=e[i];else if(e[i].pos>=o)break;return r};if(0===O.length)return new f.ParsedResult(d,[],v,b);for(var M=[],k=[],I=null,N=0;N<O.length;N++)if("duration.full"!==O[N].kind){var D=j(b.numbers.tokens,O[N],I);if(null!==D){var P=d.slice(D.pos+D.text.length,O[N].pos);c.modifierJoiners.indexOf(P.trim())>-1&&k.push({kind:"segment",pos:D.pos,text:d.slice(D.pos,O[N].pos+O[N].text.length),value:D.value*O[N].value}),I=O[N]}else k.push({kind:"segment",pos:O[N].pos,text:O[N].text,value:O[N].value})}else{var J=O[N].text.split(":"),R=0;4===J.length?(R+=parseFloat(J[0])*i,R+=parseInt(J[1])*o,R+=parseInt(J[2])*s,R+=parseFloat(J[3])*t):3===J.length?(R+=parseInt(J[0])*o,R+=parseInt(J[1])*s,R+=parseFloat(J[2])*t):2===J.length&&(R+=parseInt(J[0]*o),R+=parseInt(J[1]*s)),k.push({kind:"duration",pos:O[N].pos,text:O[N].text,value:R})}for(var T=null,q=null,N=0;N<k.length;N++){if(q=k[N],T){var F=d.slice(T.pos+T.text.length,q.pos);c.timeJoiners.indexOf(F.trim())>-1?(q.value+=T.value,q.text=v.slice(T.pos,q.pos+q.text.length),q.pos=T.pos):M.push(T)}T=k[N]}M.push(q);for(var N=0;N<M.length;N++)M[N].value=new e.Duration(M[N].value);return new f.ParsedResult(d,M,v,b)};if("undefined"!=typeof require){var f=require("./core.js");require("./numbers.js")}else{var f=window.babble;window.babble}var c=function(e,n){this.name="durations",this.parse=d,this.assistants=["numbers"],f.BaseTranslator.call(this,e,n)};c.prototype=Object.create(f.BaseTranslator.prototype),c.prototype.constructor=c,e.DurationTranslator=c;var h="en-US",m=[];for(var y in n)m.push(y);f.register("durations",c,h,m)}("undefined"==typeof exports?this.babble=this.babble||{}:exports);