!function(e){"use strict";function n(){for(var e=this.input,n=0;n<this.tokens.length;n++)e=e.replace(this.tokens[n].text,this.tokens[n].value);return e}function s(e,s,t,i){this.input=e,this.tokens=s,this.preParsedOutput=t||null,this.preParsedResults=i||null,this.digify=n.bind(this)}var t={"en-US":{numbers:{zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,thirty:30,forty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100,thousand:1e3,million:1e6,billion:1e9},joiners:[""," "," and ","-"],flippers:[]}},i=t["en-US"];t["de-DE"]={numbers:{"null":0,ein:1,eine:1,eins:1,zwei:2,zwo:2,drei:3,vier:4,"fünf":5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,"zwölf":12,dreizehn:13,vierzehn:14,"fünfzehn":15,sechzehn:16,siebzehn:17,achtzehn:18,neunzehn:19,zwanzig:20,"dreißig":30,vierzig:40,"fünfzig":50,sechzig:60,siebzig:70,achtzig:80,neunzig:90,hundert:100,tausend:1e3,million:1e6,milliarde:1e9},joiners:[""," ","und"," und ","-"],flippers:["und"," und "]},e.parse=function(e,n){n=n&&t[n]?t[n]:i;var l=[];for(var r in n.numbers)l.push(r);l.reverse();var u=function(e,n){if(0===e.length||e[e.length-1].pos<n.pos)e.push(n);else for(var s=0;s<e.length;s++)if(e[s].pos>n.pos){e.splice(s,0,n);break}},o=[],h=new RegExp("("+l.join("|")+")","gi");if(e.replace(h,function(e,s,t){u(o,{pos:t,len:s.length,value:n.numbers[e.toLowerCase()]||parseFloat(e)})}),h=/([+-]{0,1}\d+)/gi,e.replace(h,function(e,n,s){u(o,{pos:s,len:n.length,value:parseFloat(e)})}),0===o.length)return new s(e,[]);for(var p=[{kind:"number",pos:0,value:0,text:"",segments:[0]}],a=0,f=0,g=null,v=0;v<o.length;v++){if(g){var d=e.slice(g.pos+g.len,o[v].pos);-1===n.joiners.indexOf(d)&&(p[a].value=p[a].segments.reduce(function(e,n){return(e||0)+n}),p[a].text=e.slice(p[a].pos,g.pos+g.len),p.push({kind:"number",pos:0,value:0,text:"",segments:[0]}),a++,f=0,g=null,p[a].pos=o[v].pos)}else p[a].pos=o[v].pos;if(g&&p[a].segments[f]<o[v].value)if(f>0&&p[a].segments[f-1]<o[v].value){for(var m=0,c=0,z=p[a].segments.length-1;z>-1;z--){if(m+p[a].segments[z]>o[v].value){c=z+1;break}m+=p[a].segments[z]}p[a].segments.splice(c,p[a].segments.length),f=c,p[a].segments.push(m*o[v].value)}else n.flippers.indexOf(e.slice(g.pos+g.len,o[v].pos))>-1?p[a].segments[f]+=o[v].value:p[a].segments[f]=p[a].segments[f]*o[v].value;else g&&p[a].segments[f]>o[v].value?(p[a].segments.push(o[v].value),f++):p[a].segments[f]+=o[v].value;g=o[v]}return p[a].value=p[a].segments.reduce(function(e,n){return(e||0)+n}),p[a].text=e.slice(p[a].pos,g.pos+g.len),new s(e,p)}}("undefined"==typeof exports?this.numbers={}:exports);