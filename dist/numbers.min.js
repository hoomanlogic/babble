!function(e){"use strict";var n={"en-US":{numbers:{half:.5,quarter:.25,qtr:.25,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,score:20,thirty:30,forty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100,thousand:1e3,"half-a-mil":5e5,"half-a-mill":5e5,million:1e6,"half-a-bil":5e8,"half-a-bill":5e8,billion:1e9,tenth:.1,hundredth:.01,thousandth:.001},joiners:[""," "," and ","-"," a "," of a "],flippers:[]}};n["de-DE"]={numbers:{"null":0,ein:1,eine:1,eins:1,zwei:2,zwo:2,drei:3,vier:4,"fünf":5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,"zwölf":12,dreizehn:13,vierzehn:14,"fünfzehn":15,sechzehn:16,siebzehn:17,achtzehn:18,neunzehn:19,zwanzig:20,"dreißig":30,vierzig:40,"fünfzig":50,sechzig:60,siebzig:70,achtzig:80,neunzig:90,hundert:100,tausend:1e3,million:1e6,milliarde:1e9},joiners:[""," ","und"," und ","-"],flippers:["und"," und "]};var t=function(e,n){return n.numbers[e.toLowerCase()]||parseFloat(e)},s=function(e,s){s=s&&n[s]?n[s]:n[i];var o=[];for(var l in s.numbers)o.push(l);o.reverse();for(var u,a=[],h=new RegExp("("+o.join("|")+")","gi");null!==(u=h.exec(e));)r.insertToken(a,new r.Token(t(u[0],s),"number.word",u.index,u[0]));for(h=/([+-]{0,1}\d+)/gi;null!==(u=h.exec(e));)r.insertToken(a,new r.Token(t(u[0],s),"number.word",u.index,u[0]));if(0===a.length)return new r.ParsedResult(e,[]);for(var f=function(e){return 1>e?"":String(e).length},v=function(e){var n=0;return e.forEach(function(e){n+=e.value}),n},p=[],d=[],g=-1,c=-1,k=null,b=0;b<a.length;b++){if(k){var x=e.slice(k.pos+k.text.length,a[b].pos);-1===s.joiners.indexOf(x)&&(p[g].value=v(p[g].tokens),p[g].text=e.slice(p[g].pos,k.pos+k.text.length),k=null)}if(k||(d=[],d.push(new r.Token(a[b].value,"number.segment",a[b].pos,a[b].text,[a[b]])),p.push(new r.Token(a[b].value,"number",a[b].pos,a[b].text,d)),g++,c=0),k&&(f(p[g].tokens[c].value)<f(a[b].value)||a[b].value<1)){var m=e.slice(k.pos+k.text.length,a[b].pos);if(s.flippers.indexOf(m)>-1)p[g].tokens[c].tokens.push(a[b]),p[g].tokens[c].value+=a[b].value;else if(0===c)p[g].tokens[c].tokens.push(a[b]),p[g].tokens[c].value*=a[b].value;else{for(var w=0,z=0,y=p[g].tokens.length-1;y>-1;y--){if(p[g].tokens[y].value>a[b].value){z=y+1;break}w+=p[g].tokens[y].value}var T=p[g].tokens.splice(z,p[g].tokens.length),j=new r.Token(w*a[b].value,"number.segment",T[0].pos,e.slice(T[0].pos,T[T.length-1].pos+T[T.length-1].text.length));p[g].tokens.push(j),c=z}}else k&&p[g].tokens[c].value>a[b].value?(p[g].tokens.push(new r.Token(a[b].value,"number.segment",a[b].pos,a[b].text,[a[b]])),c++):k&&(p[g].tokens[c].value+=a[b].value,p[g].tokens[c].pos=a[b].pos,p[g].tokens[c].text=a[b].text);p[g].tokens[c].text=e.slice(p[g].tokens[c].pos,a[b].pos+a[b].text.length),k=a[b]}return p[g].value=v(p[g].tokens),p[g].text=e.slice(p[g].pos,k.pos+k.text.length),new r.ParsedResult(e,p)};if("undefined"!=typeof require)var r=require("./core");else var r=window.babble;var o=function(e,n){this.name="numbers",this.parse=s,r.BaseTranslator.call(this,e,n)};o.prototype=Object.create(r.BaseTranslator.prototype),o.prototype.constructor=o,e.NumberTranslator=o;var i="en-US",l=[];for(var u in n)l.push(u);r.register("numbers",o,i,l)}("undefined"==typeof exports?this.babble=this.babble||{}:exports);