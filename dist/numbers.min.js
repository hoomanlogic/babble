!function(e){"use strict";var n={"en-US":{numbers:{half:.5,quarter:.25,qtr:.25,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,score:20,thirty:30,forty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100,thousand:1e3,"half-a-mil":5e5,"half-a-mill":5e5,million:1e6,"half-a-bil":5e8,"half-a-bill":5e8,billion:1e9,tenth:.1,hundredth:.01,thousandth:.001},joiners:[""," "," and ","-"," a "," of a "],flippers:[]}};n["de-DE"]={numbers:{"null":0,ein:1,eine:1,eins:1,zwei:2,zwo:2,drei:3,vier:4,"fünf":5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,"zwölf":12,dreizehn:13,vierzehn:14,"fünfzehn":15,sechzehn:16,siebzehn:17,achtzehn:18,neunzehn:19,zwanzig:20,"dreißig":30,vierzig:40,"fünfzig":50,sechzig:60,siebzig:70,achtzig:80,neunzig:90,hundert:100,tausend:1e3,million:1e6,milliarde:1e9},joiners:[""," ","und"," und ","-"],flippers:["und"," und "]};var t=function(e,n){return n.numbers[e.toLowerCase()]||parseFloat(e)},s=function(e,s){s=s&&n[s]?n[s]:n[o];var i=[];for(var l in s.numbers)i.push(l);i.reverse();for(var u,a=[],h=new RegExp("("+i.join("|")+")","gi");null!==(u=h.exec(e));)r.insertToken(a,new r.Token(t(u[0],s),"number.segment",u.index,u[0]));for(h=/([+-]{0,1}\d+)/gi;null!==(u=h.exec(e));)r.insertToken(a,new r.Token(t(u[0],s),"number.segment",u.index,u[0]));if(0===a.length)return new r.ParsedResult(e,[]);for(var f=function(e){return 1>e?"":String(e).length},v=function(e){var n=0;return e.forEach(function(e){n+=e.value}),n},p=[new r.Token(0,"number",0,"",[new r.Token(0,"number.segment",0,"")])],b=0,g=0,d=null,c=0;c<a.length;c++){if(d){var k=e.slice(d.pos+d.text.length,a[c].pos);-1===s.joiners.indexOf(k)&&(p[b].value=v(p[b].tokens),p[b].text=e.slice(p[b].pos,d.pos+d.text.length),p.push(new r.Token(0,"number",0,"",[new r.Token(0,"number.segment",0,"")])),b++,g=0,d=null,p[b].pos=a[c].pos)}else p[b].pos=a[c].pos;if(d&&(f(p[b].tokens[g].value)<f(a[c].value)||a[c].value<1))if(g>0&&p[b].tokens[g-1].value<a[c].value){for(var m=0,w=0,x=p[b].tokens.length-1;x>-1;x--){if(m+p[b].tokens[x].value>a[c].value){w=x+1;break}m+=p[b].tokens[x].value}p[b].tokens.splice(w,p[b].tokens.length),g=w,p[b].tokens.push(new r.Token(m*a[c].value,"number.segment",0,""))}else s.flippers.indexOf(e.slice(d.pos+d.text.length,a[c].pos))>-1?p[b].tokens[g].value+=a[c].value:p[b].tokens[g].value=p[b].tokens[g].value*a[c].value;else d&&p[b].tokens[g].value>a[c].value?(p[b].tokens.push(new r.Token(a[c].value,"number.segment",0,"")),g++):(p[b].tokens[g].value+=a[c].value,p[b].tokens[g].pos=a[c].pos,p[b].tokens[g].text=a[c].text);d=a[c]}return p[b].value=v(p[b].tokens),p[b].text=e.slice(p[b].pos,d.pos+d.text.length),new r.ParsedResult(e,p)};if("undefined"!=typeof require)var r=require("./core.js");else var r=window.babble;var i=function(e,n){this.name="numbers",this.parse=s,r.BaseTranslator.call(this,e,n)};i.prototype=Object.create(r.BaseTranslator.prototype),i.prototype.constructor=i,e.NumberTranslator=i;var o="en-US",l=[];for(var u in n)l.push(u);r.register("numbers",i,o,l)}("undefined"==typeof exports?this.babble=this.babble||{}:exports);