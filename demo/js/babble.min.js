!function(e){"use strict";var t=function(e){return e.hasOwnProperty("toString")?e.toString():e},n=function(e,t,n){var s=0,a=t.pos;"undefined"!=typeof n&&null!==n&&(s=n.pos+n.text.length);for(var r=0,o=null,r=0;r<e.length;r++)if(s<=e[r].pos&&e[r].pos<a)o=e[r];else if(e[r].pos>=a)break;return o};e.getTokenModifier=n;var s=function(e,t){if(0===e.length||e[e.length-1].pos<t.pos)e.push(t);else for(var n=0;n<e.length;n++){if(e[n].pos>t.pos){e.splice(n,0,t);break}if(e[n].pos===t.pos&&e[n].len<t.len){e.splice(n,1,t);break}}};e.insertToken=s;var a=function(e,t,n){this.input=e,this.tokens=t,this.preParsedResults=n||null};a.prototype={toString:function(){for(var e=this.input,n=0;n<this.tokens.length;n++)e=e.slice(0,this.tokens[n].pos)+t(this.tokens[n].value)+e.slice(this.tokens[n].pos+this.tokens[n].text.length);return e}};var r=function(e,t,n,s,a,r){this.value=e,this.kind=t,this.pos=n,this.text=s,this.tokens=a||[],this.certainty=r||0},o=function(e,t){if(!this.hasOwnProperty("name")||"string"!=typeof this.name||!this.hasOwnProperty("parse")||"function"!=typeof this.parse||"function Object() { [native code] }"===this.constructor.toString())throw new Error('BaseTranslator must be inheritied and properties set for "name" and "parse"');if("undefined"==typeof i[this.name])throw new Error('"'+this.name+'" must be registered before it is instantiated');if(this.locale=t||i[this.name].defaultLocale,-1===i[this.name].supportedLocales.indexOf(this.locale))throw new Error('Locale "'+this.locale+'" is not supported by "'+this.name+'"');this.onTranslate=e||null,this.hasOwnProperty("assistants")||(this.assistants=[])};o.prototype={listen:function(e,t,n,s){if("string"==typeof e&&document&&document.getElementById&&(e=document.getElementById(e)),t=t||"input",n=n||this.onTranslate,e.addEventListener)e.addEventListener(t,this.translate.bind(this,{speaker:e,locale:s,onTranslate:n}));else if(e.attachEvent)e.attachEvent("on"+t,this.translate.bind(this,{speaker:e,locale:s,onTranslate:n}));else if("undefined"!=typeof e["on"+t])e["on"+t]=this.translate.bind(this,{speaker:e,locale:s,onTranslate:n});else{if("undefined"==typeof e[t])throw new Error("Could not find an appropriate event to bind to");e[t]=this.translate.bind(this,{speaker:e,locale:s,onTranslate:n})}},translate:function(){for(var e=null,t={locale:this.locale,onTranslate:null,speaker:null},n=0;n<arguments.length;n++)if("string"==typeof arguments[n])arguments[n].length<6&&-1!==i[this.name].supportedLocales.indexOf(arguments[n])?t.locale=arguments[n]:null===e&&(e=arguments[n]);else if("object"==typeof arguments[n])if("undefined"!=typeof arguments[n].target&&"undefined"!=typeof arguments[n].target.value)e=arguments[n].target.value;else for(var s in arguments[n])arguments[n].hasOwnProperty(s)&&(t[s]=arguments[n][s]);else"function"==typeof arguments[n]&&(t.onTranslate=arguments[n]);if(e){var r=this.parse(e,t.locale);return null!==t.onTranslate&&t.onTranslate(r,t.speaker),this.onTranslate&&this.onTranslate(r,t.speaker),r}return new a(e,[])},passToAssistants:function(e,t){for(var n={},s=0;s<this.assistants.length;s++)n[this.assistants[s]]=u(this.assistants[s]).parse(e,t);return n}},e.ParsedResult=a,e.BaseTranslator=o,e.Token=r;var i={},l=function(e,t,n,s){i[e]={instance:null,defaultLocale:n,supportedLocales:s},i[e].instance=new t};e.register=l;var u=function(e,t){if(t=t||i[e].instance.locale,-1===i[e].supportedLocales.indexOf(t))throw new Error('Locale "'+this.locale+'" is not supported by "'+e+'"');return i[e].locale=t||i[e].instance.locale,i[e].instance};e.get=u;var h=function(e,t){var n=null,s=null,a=null;if(arguments.length<3||"function"!=typeof arguments[arguments.length-1])throw new TypeError("Unexpected number of arguments");a=arguments[arguments.length-1],arguments.length>3&&(n=arguments[2]),arguments.length>4&&(s=arguments[3]);var r=u(e,s);r.listen(t,n,a,s)};e.assign=h}("undefined"==typeof exports?this.babble=this.babble||{}:exports);
!function(e){"use strict";var n={"en-US":{code:"en-US",millennium:{full:["millennium","millennia"]},century:{full:["centuries","century"]},decade:{full:["decades","decade"]},year:{full:["years","year"],"short":["yr"],symbol:["y"]},day:{full:["days","day"],"short":["dys","dy"],symbol:["d"]},hour:{full:["hours","hour"],"short":["hrs","hr"],symbol:["h"]},minute:{full:["minutes","minute"],"short":["mins","min"],symbol:["m"]},second:{full:["seconds","second"],"short":["secs","sec"],symbol:["s"]},millisecond:{full:["milliseconds","millisecond"],"short":["millisecs","millisec","msecs","msec"],symbol:["ms"]},timeJoiners:[",",", and",",and","and",""],modifierJoiners:["of an","of a","an","a",""],formatNoun:function(e,n){var s=function(){var n=["a","e","i","o","u"];return"y"===e[e.length-1]&&-1===n.indexOf(e[e.length-2].toLowerCase())?e.substring(0,e.length-1)+"ies":e+"s"};return 0===n?"no "+s():1===n?e:s()}}};n["de-DE"]={code:"de-DE",millennium:{full:[]},century:{full:[]},decade:{full:[]},year:{full:["jahre","jahr"],"short":[],symbol:["j"]},day:{full:["tage","tag"],"short":[],symbol:["t"]},hour:{full:["stunde"],"short":[],symbol:["st"]},minute:{full:["minuten"],"short":["min"],symbol:["m"]},second:{full:["sekunden"],"short":["sek"],symbol:["s"]},millisecond:{full:["millisekunden"],"short":["millisek","msek"],symbol:["ms"]},timeJoiners:[",",", und",",und","und",""],modifierJoiners:["ob",""],formatNoun:function(e,n){var s=function(){return e+"e"};return 0===n?"kein "+s():1===n?e:s()}};var s=1e3,t=60*s,i=60*t,o=24*i,r=365*o,u=10*r,l=10*u,a=10*l;e.Duration=function(e){this.value=e,this.milliseconds=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.years=0;var n=e;n>=r&&(this.years=Math.floor(n/r),n-=this.years*r),n>=o&&(this.days=Math.floor(n/o),n-=this.days*o),n>=i&&(this.hours=Math.floor(n/i),n-=this.hours*i),n>=t&&(this.minutes=Math.floor(n/t),n-=this.minutes*t),n>=s&&(this.seconds=Math.floor(n/s),n-=this.seconds*s),this.milliseconds=n},e.Duration.prototype.toString=function(e,s){if(s=s&&n[s]?n[s]:n[j],"undefined"!=typeof e&&null!==e&&":"===e.slice(0,1))return this.days>0?this.days+":"+(this.hours<10?"0":"")+this.hours+":"+(this.minutes<10?"0":"")+this.minutes:this.hours>0?":minutes"===e?this.hours+":"+(this.minutes<10?"0":"")+this.minutes:this.hours+":"+(this.minutes<10?"0":"")+this.minutes+":"+(this.seconds<10?"0":"")+this.seconds:":minutes"===e?this.minutes:this.minutes+":"+(this.seconds<10?"0":"")+this.seconds;("undefined"==typeof e||null===e)&&(e="milliseconds");var t=[];return this.years&&t.push(this.years+" "+s.formatNoun(s.year.full[1],this.years)),"days"===e?t.join(", "):(this.days&&t.push(this.days+" "+s.formatNoun(s.day.full[1],this.days)),"days"===e?t.join(", "):(this.hours&&t.push(this.hours+" "+s.formatNoun(s.hour.full[1],this.hours)),"hours"===e?t.join(", "):(this.minutes&&t.push(this.minutes+" "+s.formatNoun(s.minute.full[1],this.minutes)),"minutes"===e?t.join(", "):(this.seconds&&t.push(this.seconds+" "+s.formatNoun(s.second.full[1],this.seconds)),"seconds"===e?t.join(", "):(this.milliseconds&&t.push(this.milliseconds+" "+s.formatNoun(s.millisecond.full[1],this.milliseconds)),t.join(", "))))))},e.Duration.prototype.toMinutes=function(){return this.value>6e4?Math.floor(this.value/1e3/60):0};var d=function(e,n){return n.millennium.full.indexOf(e)>-1?!0:!1},h=function(e,n){return n.century.full.indexOf(e)>-1?!0:!1},f=function(e,n){return n.decade.full.indexOf(e)>-1?!0:!1},c=function(e,n){return n.year.full.indexOf(e)>-1?!0:n.year["short"].indexOf(e)>-1?!0:n.year.symbol.indexOf(e)>-1?!0:!1},m=function(e,n){return n.day.full.indexOf(e)>-1?!0:n.day["short"].indexOf(e)>-1?!0:n.day.symbol.indexOf(e)>-1?!0:!1},y=function(e,n){return n.hour.full.indexOf(e)>-1?!0:n.hour["short"].indexOf(e)>-1?!0:n.hour.symbol.indexOf(e)>-1?!0:!1},p=function(e,n){return n.minute.full.indexOf(e)>-1?!0:n.minute["short"].indexOf(e)>-1?!0:n.minute.symbol.indexOf(e)>-1?!0:!1},b=function(e,n){return n.second.full.indexOf(e)>-1?!0:n.second["short"].indexOf(e)>-1?!0:n.second.symbol.indexOf(e)>-1?!0:!1},x=function(e,n){return n.millisecond.full.indexOf(e)>-1?!0:n.millisecond["short"].indexOf(e)>-1?!0:n.millisecond.symbol.indexOf(e)>-1?!0:!1},v=function(e,n){if(d(e,n))return a;if(h(e,n))return l;if(f(e,n))return u;if(c(e,n))return r;if(m(e,n))return o;if(y(e,n))return i;if(p(e,n))return t;if(b(e,n))return s;if(x(e,n))return 1;throw new Error("Invalid duration name")},g=function(r,u){u=u&&n[u]?n[u]:n[j];for(var l,a=[].concat(u.millennium.full).concat(u.century.full).concat(u.decade.full).concat(u.year.full).concat(u.day.full).concat(u.hour.full).concat(u.minute.full).concat(u.second.full).concat(u.millisecond.full).concat(u.year["short"]).concat(u.day["short"]).concat(u.hour["short"]).concat(u.minute["short"]).concat(u.second["short"]).concat(u.millisecond["short"]).concat(u.year.symbol).concat(u.day.symbol).concat(u.hour.symbol).concat(u.minute.symbol).concat(u.second.symbol).concat(u.millisecond.symbol),d=this.passToAssistants(r,u.code),h=[],f=new RegExp("(\\b|\\d)("+a.join("|")+").?(?![a-zA-Z])","gi");null!==(l=f.exec(r));){var c=l.index+(l[1]||"").length;O.insertToken(h,{kind:"duration.name",pos:c,text:l[2],value:v(l[2],u)})}for(f=/((\d)+:(\d)+(:(\d)+)?(:(\d)+)?(\.(\d){1,3})?)/gi;null!==(l=f.exec(r));)""!==arguments[0].trim()&&O.insertToken(h,{kind:"duration.full",pos:l.index,text:l[0],value:null});if(0===h.length)return new O.ParsedResult(r,[],d);for(var m=[],y=[],p=null,b=0;b<h.length;b++)if("duration.full"!==h[b].kind){var x=O.getTokenModifier(d.numbers.tokens,h[b],p);if(null!==x){var g=r.slice(x.pos+x.text.length,h[b].pos);u.modifierJoiners.indexOf(g.trim())>-1&&y.push({kind:"segment",pos:x.pos,text:r.slice(x.pos,h[b].pos+h[b].text.length),value:x.value*h[b].value}),p=h[b]}else y.push({kind:"segment",pos:h[b].pos,text:h[b].text,value:h[b].value})}else{var k=h[b].text.split(":"),w=0;4===k.length?(w+=parseFloat(k[0])*o,w+=parseInt(k[1])*i,w+=parseInt(k[2])*t,w+=parseFloat(k[3])*s):3===k.length?(w+=parseInt(k[0])*i,w+=parseInt(k[1])*t,w+=parseFloat(k[2])*s):2===k.length&&(w+=parseInt(k[0]*i),w+=parseInt(k[1]*t)),y.push({kind:"duration",pos:h[b].pos,text:h[b].text,value:w})}for(var N=null,D=null,b=0;b<y.length;b++){if(D=y[b],N){var M=r.slice(N.pos+N.text.length,D.pos);u.timeJoiners.indexOf(M.trim())>-1?(D.value+=N.value,D.text=r.slice(N.pos,D.pos+D.text.length),D.pos=N.pos):m.push(N)}N=y[b]}m.push(D);for(var b=0;b<m.length;b++)m[b].value=new e.Duration(m[b].value);return new O.ParsedResult(r,m,d)};if("undefined"!=typeof require){var O=require("./core.js");require("./numbers.js")}else{var O=window.babble;window.babble}var k=function(e,n){this.name="durations",this.parse=g,this.assistants=["numbers"],O.BaseTranslator.call(this,e,n)};k.prototype=Object.create(O.BaseTranslator.prototype),k.prototype.constructor=k,e.DurationTranslator=k;var j="en-US",w=[];for(var N in n)w.push(N);O.register("durations",k,j,w),e.durations={dayDiff:function(e,n){var s=Math.abs(e-n)/o;return s},hourDiff:function(e,n){return Math.abs(e-n)/i},formatDuration:function(e,s){if("undefined"==typeof s&&(s="en-US"),60>e)return e+" "+n[s].formatNoun("minute",e);var t=e%60,i=(e-t)/60;return i+" "+n[s].formatNoun("hour",i)+" and "+t+" "+n[s].formatNoun("minute",t)}}}("undefined"==typeof exports?this.babble=this.babble||{}:exports);
!function(e){"use strict";e.parse=function(){},e.moments={daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"],dateOnly:function(e){if("undefined"==typeof e)return"";var t=e.indexOf("T");return t>0?e.slice(0,t):void 0},dayDiff:function(e,t){var a=Math.abs(e-t)/864e5;return a},hourDiff:function(e,t){return Math.abs(e-t)/36e5},getDaysOfWeek:function(e,t){var a=(new Date).getMidnight(),n=0,r=!1,u=[],i=null;t instanceof Date?(r=!0,n=t.getDay(),i=t):n=t;for(var o=0;e>o;o++){var s="calendar-future";i.getTime()===a.getTime()?s="calendar-today":i.getTime()<a.getTime()&&(s="calendar-past"),i.getMonth()!==a.getMonth()&&(s+=" calendar-other-month"),u.push({dayId:n,day:daysOfWeek[n],date:new Date(i.toString()),className:s}),n++,n>6&&(n=0),r===!0&&i.setDate(i.getDate()+1)}return u},getAdjustedDay:function(e,t){var a=e-t;return 0>a&&(a=7+a),a},formatDay:function(){var e=[{key:0,value:"Sunday"},{key:1,value:"Monday"},{key:2,value:"Tuesday"},{key:3,value:"Wednesday"},{key:4,value:"Thursday"},{key:5,value:"Friday"},{key:6,value:"Saturday"}],t=new Date(1e3*apiTime);return e[t.getDay()].value},convertSecondsToMilli:function(e){return 1e3*e},getDateFromSeconds:function(e){return new Date(1e3*e)},formatTime:function(e){return getDateFromSeconds(e).toLocaleTimeString()},formatDateTime:function(e){var t={weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"};return e=new Date(e),e.toLocaleTimeString("en-us",t)},getLocalDate:function(e){return e=e.split("-"),new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]))},parseLocalDate:function(e){var t=null;return isNaN(Date.parse(e))?t=null:(t=new Date(Date.parse(e)),t.setMinutes(t.getMinutes()+t.getTimezoneOffset())),t}}}("undefined"==typeof exports?this.babble=this.babble||{}:exports);
!function(e){"use strict";var n={"en-US":{numbers:{half:.5,quarter:.25,qtr:.25,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,score:20,thirty:30,forty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100,thousand:1e3,"half-a-mil":5e5,"half-a-mill":5e5,million:1e6,"half-a-bil":5e8,"half-a-bill":5e8,billion:1e9,tenth:.1,hundredth:.01,thousandth:.001},joiners:[""," "," and ","-"," a "," of a "],flippers:[]}};n["de-DE"]={numbers:{"null":0,ein:1,eine:1,eins:1,zwei:2,zwo:2,drei:3,vier:4,"fünf":5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,"zwölf":12,dreizehn:13,vierzehn:14,"fünfzehn":15,sechzehn:16,siebzehn:17,achtzehn:18,neunzehn:19,zwanzig:20,"dreißig":30,vierzig:40,"fünfzig":50,sechzig:60,siebzig:70,achtzig:80,neunzig:90,hundert:100,tausend:1e3,million:1e6,milliarde:1e9},joiners:[""," ","und"," und ","-"],flippers:["und"," und "]};var t=function(e,n){return n.numbers[e.toLowerCase()]||parseFloat(e)},s=function(e,s){s=s&&n[s]?n[s]:n[i];var o=[];for(var l in s.numbers)o.push(l);o.reverse();for(var u,a=[],h=new RegExp("("+o.join("|")+")","gi");null!==(u=h.exec(e));)r.insertToken(a,new r.Token(t(u[0],s),"number.word",u.index,u[0]));for(h=/([+-]{0,1}\d+)/gi;null!==(u=h.exec(e));)r.insertToken(a,new r.Token(t(u[0],s),"number.word",u.index,u[0]));if(0===a.length)return new r.ParsedResult(e,[]);for(var f=function(e){return 1>e?"":String(e).length},v=function(e){var n=0;return e.forEach(function(e){n+=e.value}),n},p=[],d=[],g=-1,c=-1,k=null,b=0;b<a.length;b++){if(k){var x=e.slice(k.pos+k.text.length,a[b].pos);-1===s.joiners.indexOf(x)&&(p[g].value=v(p[g].tokens),p[g].text=e.slice(p[g].pos,k.pos+k.text.length),k=null)}if(k||(d=[],d.push(new r.Token(a[b].value,"number.segment",a[b].pos,a[b].text,[a[b]])),p.push(new r.Token(a[b].value,"number",a[b].pos,a[b].text,d)),g++,c=0),k&&(f(p[g].tokens[c].value)<f(a[b].value)||a[b].value<1)){var m=e.slice(k.pos+k.text.length,a[b].pos);if(s.flippers.indexOf(m)>-1)p[g].tokens[c].tokens.push(a[b]),p[g].tokens[c].value+=a[b].value;else if(0===c)p[g].tokens[c].tokens.push(a[b]),p[g].tokens[c].value*=a[b].value;else{for(var w=0,z=0,y=p[g].tokens.length-1;y>-1;y--){if(p[g].tokens[y].value>a[b].value){z=y+1;break}w+=p[g].tokens[y].value}var T=p[g].tokens.splice(z,p[g].tokens.length),j=new r.Token(w*a[b].value,"number.segment",T[0].pos,e.slice(T[0].pos,T[T.length-1].pos+T[T.length-1].text.length));p[g].tokens.push(j),c=z}}else k&&p[g].tokens[c].value>a[b].value?(p[g].tokens.push(new r.Token(a[b].value,"number.segment",a[b].pos,a[b].text,[a[b]])),c++):k&&(p[g].tokens[c].value+=a[b].value,p[g].tokens[c].pos=a[b].pos,p[g].tokens[c].text=a[b].text);p[g].tokens[c].text=e.slice(p[g].tokens[c].pos,a[b].pos+a[b].text.length),k=a[b]}return p[g].value=v(p[g].tokens),p[g].text=e.slice(p[g].pos,k.pos+k.text.length),new r.ParsedResult(e,p)};if("undefined"!=typeof require)var r=require("./core");else var r=window.babble;var o=function(e,n){this.name="numbers",this.parse=s,r.BaseTranslator.call(this,e,n)};o.prototype=Object.create(r.BaseTranslator.prototype),o.prototype.constructor=o,e.NumberTranslator=o;var i="en-US",l=[];for(var u in n)l.push(u);r.register("numbers",o,i,l)}("undefined"==typeof exports?this.babble=this.babble||{}:exports);