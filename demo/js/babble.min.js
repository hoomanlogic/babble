!function(t){"use strict";var e=function(t){return t.hasOwnProperty("toString")?t.toString():t},n=function(t,e){var n=null,s=null,r=null;if(arguments.length<3||"function"!=typeof arguments[arguments.length-1])throw new TypeError("Unexpected number of arguments");r=arguments[arguments.length-1],arguments.length>3&&(n=arguments[2]),arguments.length>4&&(s=arguments[3]);var a=h(t,s);a.listen(e,n,r)},s=function(t,e,n){var s=0,r=e.pos;"undefined"!=typeof n&&null!==n&&(s=n.pos+n.text.length);for(var a=0,i=null,a=0;a<t.length;a++)if(s<=t[a].pos&&t[a].pos<r)i=t[a];else if(t[a].pos>=r)break;return i},r=function(t,e){if(0===t.length||t[t.length-1].pos<e.pos)t.push(e);else for(var n=0;n<t.length;n++){if(t[n].pos>e.pos){t.splice(n,0,e);break}if(t[n].pos===e.pos&&t[n].len<e.len){t.splice(n,1,e);break}}},a=function(t,e,n,s){this.input=t,this.tokens=e,this.preParsedOutput=n||null,this.preParsedResults=s||null};a.prototype={digify:function(){for(var t=this.preParsedOutput||this.input,n=0;n<this.tokens.length;n++)t=t.replace(this.tokens[n].text,e(this.tokens[n].value));return t}};var i=function(t,e,n,s,r,a){this.value=t,this.kind=e,this.pos=n,this.text=s,this.tokens=r||[],this.certainty=a||0},o=function(t,e){if(!this.hasOwnProperty("name")||"string"!=typeof this.name||!this.hasOwnProperty("parse")||"function"!=typeof this.parse||"function Object() { [native code] }"===this.constructor.toString())throw new Error('BaseTranslator must be inheritied and properties set for "name" and "parse"');if("undefined"==typeof u[this.name])throw new Error('"'+this.name+'" must be registered before it is instantiated');if(this.locale=e||u[this.name].defaultLocale,-1===u[this.name].supportedLocales.indexOf(this.locale))throw new Error('Locale "'+this.locale+'" is not supported by "'+this.name+'"');this.onTranslate=t||null,this.hasOwnProperty("assistants")||(this.assistants=[])};o.prototype={listen:function(t,e,n){if("string"==typeof t&&document&&document.getElementById&&(t=document.getElementById(t)),e=e||"input",n=n||this.onTranslate,t.addEventListener)t.addEventListener(e,this.translate.bind(this,t,n));else if(t.attachEvent)t.attachEvent("on"+e,this.translate.bind(this,t,n));else if("undefined"!=typeof t["on"+e])t["on"+e]=this.translate.bind(this,t,n);else{if("undefined"==typeof t[e])throw new Error("Could not find an appropriate event to bind to");t[e]=this.translate.bind(this,t,n)}},translate:function(){var t=arguments.length,e=this.locale;-1!==u[this.name].supportedLocales.indexOf(arguments[arguments.length-1])&&(t=arguments.length-1,e=arguments[t]);var n="",s=t-1;if("string"==typeof arguments[s]?n=arguments[s]:arguments[s]&&arguments[s].target&&arguments[s].target.value&&(n=arguments[s].target.value),n){var r=this.parse(n,e);return arguments.length>2&&"function"==typeof arguments[1]?arguments[1](r,arguments[0]):this.onTranslate&&arguments.length>1&&"string"!=typeof arguments[0]&&this.onTranslate(r,arguments[0]),r}},passToAssistants:function(t,e){for(var n=t,s={},r=0;r<this.assistants.length;r++)s[this.assistants[r]]=h(this.assistants[r]).parse(n,e),n=s[this.assistants[r]].digify();return{preParsedOutput:n,preParsedResults:s}}},t.ParsedResult=a,t.BaseTranslator=o,t.Token=i;var u={},l=function(t,e,n,s){u[t]={instance:null,defaultLocale:n,supportedLocales:s},u[t].instance=new e};t.register=l;var h=function(t,e){if(e=e||u[t].instance.locale,-1===u[t].supportedLocales.indexOf(e))throw new Error('Locale "'+this.locale+'" is not supported by "'+t+'"');return u[t].locale=e||u[t].instance.locale,u[t].instance};t.get=h,t.assign=n,t.getTokenModifier=s,t.insertToken=r}("undefined"==typeof exports?this.babble=this.babble||{}:exports);
!function(e){"use strict";var n={"en-US":{millennium:{full:["millennium","millennia"]},century:{full:["centuries","century"]},decade:{full:["decades","decade"]},year:{full:["years","year"],"short":["yr"],symbol:["y"]},day:{full:["days","day"],"short":["dys","dy"],symbol:["d"]},hour:{full:["hours","hour"],"short":["hrs","hr"],symbol:["h"]},minute:{full:["minutes","minute"],"short":["mins","min"],symbol:["m"]},second:{full:["seconds","second"],"short":["secs","sec"],symbol:["s"]},millisecond:{full:["milliseconds","millisecond"],"short":["millisecs","millisec","msecs","msec"],symbol:["ms"]},timeJoiners:[",",", and",",and","and",""],modifierJoiners:["of an","of a","an","a",""],formatNoun:function(e,n){var t=function(e){var n=["a","e","i","o","u"];return"y"===e[e.length-1]&&-1===n.indexOf(e[e.length-2].toLowerCase())?e.substring(0,e.length-1)+"ies":e+"s"};return 0===n?"no "+t(e):1===n?e:t(e)}}},t=1e3,s=60*t,o=60*s,i=24*o,r=365*i,l=10*r,u=10*l,a=10*u;e.Duration=function(e){this.value=e,this.milliseconds=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.years=0;var n=e;n>=r&&(this.years=Math.floor(n/r),n-=this.years*r),n>=i&&(this.days=Math.floor(n/i),n-=this.days*i),n>=o&&(this.hours=Math.floor(n/o),n-=this.hours*o),n>=s&&(this.minutes=Math.floor(n/s),n-=this.minutes*s),n>=t&&(this.seconds=Math.floor(n/t),n-=this.seconds*t),this.milliseconds=n},e.Duration.prototype.hoomanize=function(e,t){t=t&&n[t]?n[t]:n[j],"undefined"!=typeof e&&null!==e&&this.hasOwnProperty(e)||(e="milliseconds");var s=[];return this.years&&s.push(this.years+" "+t.formatNoun(t.year.full[1],this.years)),"days"===e?s.join(", "):(this.days&&s.push(this.days+" "+t.formatNoun(t.day.full[1],this.days)),"days"===e?s.join(", "):(this.hours&&s.push(this.hours+" "+t.formatNoun(t.hour.full[1],this.hours)),"hours"===e?s.join(", "):(this.minutes&&s.push(this.minutes+" "+t.formatNoun(t.minute.full[1],this.minutes)),"minutes"===e?s.join(", "):(this.seconds&&s.push(this.seconds+" "+t.formatNoun(t.second.full[1],this.seconds)),"seconds"===e?s.join(", "):(this.milliseconds&&s.push(this.milliseconds+" "+t.formatNoun(t.millisecond.full[1],this.milliseconds)),s.join(", "))))))},e.Duration.prototype.toMinutes=function(){return this.value>6e4?Math.floor(this.value/1e3/60):0},e.Duration.prototype.toString=function(){return this.value};var d=function(e,n){return n.millennium.full.indexOf(e)>-1?!0:!1},c=function(e,n){return n.century.full.indexOf(e)>-1?!0:!1},f=function(e,n){return n.decade.full.indexOf(e)>-1?!0:!1},h=function(e,n){return n.year.full.indexOf(e)>-1?!0:n.year["short"].indexOf(e)>-1?!0:n.year.symbol.indexOf(e)>-1?!0:!1},m=function(e,n){return n.day.full.indexOf(e)>-1?!0:n.day["short"].indexOf(e)>-1?!0:n.day.symbol.indexOf(e)>-1?!0:!1},y=function(e,n){return n.hour.full.indexOf(e)>-1?!0:n.hour["short"].indexOf(e)>-1?!0:n.hour.symbol.indexOf(e)>-1?!0:!1},p=function(e,n){return n.minute.full.indexOf(e)>-1?!0:n.minute["short"].indexOf(e)>-1?!0:n.minute.symbol.indexOf(e)>-1?!0:!1},x=function(e,n){return n.second.full.indexOf(e)>-1?!0:n.second["short"].indexOf(e)>-1?!0:n.second.symbol.indexOf(e)>-1?!0:!1},b=function(e,n){return n.millisecond.full.indexOf(e)>-1?!0:n.millisecond["short"].indexOf(e)>-1?!0:n.millisecond.symbol.indexOf(e)>-1?!0:!1},v=function(e,n){if(d(e,n))return a;if(c(e,n))return u;if(f(e,n))return l;if(h(e,n))return r;if(m(e,n))return i;if(y(e,n))return o;if(p(e,n))return s;if(x(e,n))return t;if(b(e,n))return 1;throw new Error("Invalid duration name")},O=function(r,l){l=l&&n[l]?n[l]:n[j];for(var u,a=[].concat(l.millennium.full).concat(l.century.full).concat(l.decade.full).concat(l.year.full).concat(l.day.full).concat(l.hour.full).concat(l.minute.full).concat(l.second.full).concat(l.millisecond.full).concat(l.year["short"]).concat(l.day["short"]).concat(l.hour["short"]).concat(l.minute["short"]).concat(l.second["short"]).concat(l.millisecond["short"]).concat(l.year.symbol).concat(l.day.symbol).concat(l.hour.symbol).concat(l.minute.symbol).concat(l.second.symbol).concat(l.millisecond.symbol),d=this.passToAssistants(r,l),c=d.preParsedOutput,f=d.preParsedResults,h=[],m=new RegExp("(\\b|\\d)("+a.join("|")+")(?:(\\b|\\d))","gi");null!==(u=m.exec(r));){var y=u.index+(u[1]||"").length;g.insertToken(h,{kind:"duration.name",pos:y,text:u[2],value:v(u[2],l)})}for(m=/((\d)+:(\d)+(:(\d)+)?(:(\d)+)?(\.(\d){1,3})?)/gi;null!==(u=m.exec(r));)""!==arguments[0].trim()&&g.insertToken(h,{kind:"duration.full",pos:u.index,text:u[0],value:null});if(0===h.length)return new g.ParsedResult(r,[],c,f);for(var p=[],x=[],b=null,O=0;O<h.length;O++)if("duration.full"!==h[O].kind){var w=g.getTokenModifier(f.numbers.tokens,h[O],b);if(null!==w){var k=r.slice(w.pos+w.text.length,h[O].pos);l.modifierJoiners.indexOf(k.trim())>-1&&x.push({kind:"segment",pos:w.pos,text:r.slice(w.pos,h[O].pos+h[O].text.length),value:w.value*h[O].value}),b=h[O]}else x.push({kind:"segment",pos:h[O].pos,text:h[O].text,value:h[O].value})}else{var M=h[O].text.split(":"),I=0;4===M.length?(I+=parseFloat(M[0])*i,I+=parseInt(M[1])*o,I+=parseInt(M[2])*s,I+=parseFloat(M[3])*t):3===M.length?(I+=parseInt(M[0])*o,I+=parseInt(M[1])*s,I+=parseFloat(M[2])*t):2===M.length&&(I+=parseInt(M[0]*o),I+=parseInt(M[1]*s)),x.push({kind:"duration",pos:h[O].pos,text:h[O].text,value:I})}for(var N=null,T=null,O=0;O<x.length;O++){if(T=x[O],N){var D=r.slice(N.pos+N.text.length,T.pos);l.timeJoiners.indexOf(D.trim())>-1?(T.value+=N.value,T.text=c.slice(N.pos,T.pos+T.text.length),T.pos=N.pos):p.push(N)}N=x[O]}p.push(T);for(var O=0;O<p.length;O++)p[O].value=new e.Duration(p[O].value);return new g.ParsedResult(r,p,c,f)};if("undefined"!=typeof require){var g=require("./core.js");require("./numbers.js")}else{var g=window.babble;window.babble}var w=function(e,n){this.name="durations",this.parse=O,this.assistants=["numbers"],g.BaseTranslator.call(this,e,n)};w.prototype=Object.create(g.BaseTranslator.prototype),w.prototype.constructor=w,e.DurationTranslator=w;var j="en-US",k=[];for(var M in n)k.push(M);g.register("durations",w,j,k)}("undefined"==typeof exports?this.babble=this.babble||{}:exports);
!function(e){"use strict";if(e.parse=function(){},"undefined"!=typeof require)var t=require("./core.js");else var t=window.babble;var r=function(e,r){this.name="moments",this.parse=parse,t.BaseTranslator.call(this,e,r)};r.prototype=Object.create(t.BaseTranslator.prototype),r.prototype.constructor=r,e.MomentTranslator=r}("undefined"==typeof exports?this.babble=this.babble||{}:exports);
!function(e){"use strict";var n={"en-US":{numbers:{half:.5,quarter:.25,qtr:.25,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,score:20,thirty:30,forty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100,thousand:1e3,"half-a-mil":5e5,"half-a-mill":5e5,million:1e6,"half-a-bil":5e8,"half-a-bill":5e8,billion:1e9,tenth:.1,hundredth:.01,thousandth:.001},joiners:[""," "," and ","-"," a "," of a "],flippers:[]}};n["de-DE"]={numbers:{"null":0,ein:1,eine:1,eins:1,zwei:2,zwo:2,drei:3,vier:4,"fünf":5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,"zwölf":12,dreizehn:13,vierzehn:14,"fünfzehn":15,sechzehn:16,siebzehn:17,achtzehn:18,neunzehn:19,zwanzig:20,"dreißig":30,vierzig:40,"fünfzig":50,sechzig:60,siebzig:70,achtzig:80,neunzig:90,hundert:100,tausend:1e3,million:1e6,milliarde:1e9},joiners:[""," ","und"," und ","-"],flippers:["und"," und "]};var t=function(e,n){return n.numbers[e.toLowerCase()]||parseFloat(e)},s=function(e,s){s=s&&n[s]?n[s]:n[i];var o=[];for(var l in s.numbers)o.push(l);o.reverse();for(var u,a=[],h=new RegExp("("+o.join("|")+")","gi");null!==(u=h.exec(e));)r.insertToken(a,new r.Token(t(u[0],s),"number.word",u.index,u[0]));for(h=/([+-]{0,1}\d+)/gi;null!==(u=h.exec(e));)r.insertToken(a,new r.Token(t(u[0],s),"number.word",u.index,u[0]));if(0===a.length)return new r.ParsedResult(e,[]);for(var f=function(e){return 1>e?"":String(e).length},v=function(e){var n=0;return e.forEach(function(e){n+=e.value}),n},p=[],d=[],g=-1,c=-1,k=null,b=0;b<a.length;b++){if(k){var x=e.slice(k.pos+k.text.length,a[b].pos);-1===s.joiners.indexOf(x)&&(p[g].value=v(p[g].tokens),p[g].text=e.slice(p[g].pos,k.pos+k.text.length),k=null)}if(k||(d=[],d.push(new r.Token(a[b].value,"number.segment",a[b].pos,a[b].text,[a[b]])),p.push(new r.Token(a[b].value,"number",a[b].pos,a[b].text,d)),g++,c=0),k&&(f(p[g].tokens[c].value)<f(a[b].value)||a[b].value<1)){var m=e.slice(k.pos+k.text.length,a[b].pos);if(s.flippers.indexOf(m)>-1)p[g].tokens[c].tokens.push(a[b]),p[g].tokens[c].value+=a[b].value;else if(0===c)p[g].tokens[c].tokens.push(a[b]),p[g].tokens[c].value*=a[b].value;else{for(var w=0,z=0,y=p[g].tokens.length-1;y>-1;y--){if(p[g].tokens[y].value>a[b].value){z=y+1;break}w+=p[g].tokens[y].value}var T=p[g].tokens.splice(z,p[g].tokens.length),j=new r.Token(w*a[b].value,"number.segment",T[0].pos,e.slice(T[0].pos,T[T.length-1].pos+T[T.length-1].text.length));p[g].tokens.push(j),c=z}}else k&&p[g].tokens[c].value>a[b].value?(p[g].tokens.push(new r.Token(a[b].value,"number.segment",a[b].pos,a[b].text,[a[b]])),c++):k&&(p[g].tokens[c].value+=a[b].value,p[g].tokens[c].pos=a[b].pos,p[g].tokens[c].text=a[b].text);p[g].tokens[c].text=e.slice(p[g].tokens[c].pos,a[b].pos+a[b].text.length),k=a[b]}return p[g].value=v(p[g].tokens),p[g].text=e.slice(p[g].pos,k.pos+k.text.length),new r.ParsedResult(e,p)};if("undefined"!=typeof require)var r=require("./core.js");else var r=window.babble;var o=function(e,n){this.name="numbers",this.parse=s,r.BaseTranslator.call(this,e,n)};o.prototype=Object.create(r.BaseTranslator.prototype),o.prototype.constructor=o,e.NumberTranslator=o;var i="en-US",l=[];for(var u in n)l.push(u);r.register("numbers",o,i,l)}("undefined"==typeof exports?this.babble=this.babble||{}:exports);