<!DOCTYPE html>
<html>
    <head>
        <title>Babble</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link href="css/boilerstrapalize.min.css" rel="stylesheet" />
        <link href="css/main.min.css" rel="stylesheet" />
    </head>
    <body>
		<div id="hoomanlogic"></div>
		<div class="centered">
			<h1><i id="hoomanlogic-icon"></i> Babble</h1>
			
			<div class="boxy">
				<h2>What is Babble?</h2>
				<p>Babble is a JavaScript library for extending user interfaces to better understand humans.</p>
				<p>With Babble, you can build input controls that can handle a wide array of user input styles.</p>
			</div>
			<div class="boxy">
				<h3>numbers <span>eg. one hundred thirty four million twenty five thousand eighty four</span></h3>
				<input id="numbersInput" type="text"/>
				
				<div class="result">
					<span id="numbersResult"></span>
				</div>
				<div class="result">
					<span id="numbersValues"></span>
				</div>
			</div>
			
			<div class="boxy">
				<h3>durations <span>eg. one day, 12 hours, 1d2h35m, 1:30:12.354</span></h3>
				<input id="durationsInput" type="text"/>
				<div class="result">
					<span id="durationsResult"></span>
				</div>
				<div class="result">
					<span id="durationsValues"></span>
				</div>
				<div class="result">
					<span id="durationsHoomanized"></span>
				</div>
			</div>
        </div>
        <footer>
			<div class="button" id="github"></div>
			<div class="button" id="twitter"></div>
			<div class="button" id="facebook"></div>
		</footer>
        
        <script type="text/javascript" src="../dist/core.min.js"></script>
        <script type="text/javascript" src="../dist/numbers.min.js"></script>
        <script type="text/javascript" src="../dist/durations.min.js"></script>
        <script type="text/javascript">
            
            /**
             * This is currently the best practice and should be 
             * used unless a legitimate reason arises to use
             * a separate instance of a translator
             */
            babble.assign('numbers', 'numbersInput', function (result) {
                document.getElementById('numbersResult').innerHTML = result.digify();
                document.getElementById('numbersValues').innerHTML = null;
                
                if (result.tokens.length> 0) {
                    var values = [];
                    result.tokens.forEach(function (item) {
                        values.push(item.value);
                    });
                    document.getElementById('numbersValues').innerHTML = values.join(',');
                }
                console.log(result);
            });
            
            babble.assign('durations', 'durationsInput', function (result) {
                document.getElementById('durationsResult').innerHTML = result.digify();
                document.getElementById('durationsValues').innerHTML = null;
                
                if (result.tokens.length > 0) {
                    var values = [];
                    var hoomanized = [];
                    result.tokens.forEach(function (item) {
                        values.push(item.value.value);
                        hoomanized.push(item.value.hoomanize());
                    });
                    document.getElementById('durationsValues').innerHTML = values.join(',');
                    document.getElementById('durationsHoomanized').innerHTML = hoomanized.join('<br />');
                }
                console.log(result);
            });

            function makeSocial( id, width, height, url ){

                function go( e ){ window.open(

                    url,
                    id,
                    'width='+ width +',height='+ height +',resizable=yes,scrollbars=yes,titlebar=yes,menubar=yes,location=yes'
                )}

                var el = document.getElementById( id )

                el.addEventListener( 'click', go )
                el.addEventListener( 'touchend', go )
            }
			
            function makeLink( id, url ){

                function go( e ){ window.location.href = url}

                var el = document.getElementById( id )

                el.addEventListener( 'click', go )
                el.addEventListener( 'touchend', go )
            }
			
            makeLink( 'github', 'https://github.com/hoomanlogic/babble' );
            makeSocial( 'twitter',  500, 300, 'https://twitter.com/share?text='+ escape( '#Babble by @hoomanlogic is a JavaScript library for building user interfaces that understand humans:' ) +'&url=' + escape( 'http://hoomanlogic.github.io/babble' ));
            makeSocial( 'facebook', 400, 300, 'https://www.facebook.com/sharer/sharer.php?u='+ escape( 'http://hoomanlogic.github.io/babble' ));
            
        </script>
    </body>
</html>